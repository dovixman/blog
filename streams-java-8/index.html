<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Java 8: Streams - Dovixmans Blog</title><meta name=Description content="Dovixman tech blog"><meta property="og:title" content="Java 8: Streams"><meta property="og:description" content="Junto con las expresiones lambda, los Streams son una de las funcionalidades más relevantes de Java 8, y trae consigo una nueva forma de trabajar. Mediante una capa de abstracción, los Streams nos permiten definir la lógica de negocio como un conjunto de funciones que se ejecutan de forma anidada.
De este modo, podemos trabajar con colecciones utilizando el paradigma de programación funcional, que nos permite definir las funciones a ejecutar de una forma mucho más clara y, en cierto modo, lo más parecida posible a como lo haríamos las personas en una situación real."><meta property="og:type" content="article"><meta property="og:url" content="https://dovixman.io/streams-java-8/"><meta property="og:image" content="https://dovixman.io/images/avatar.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-03T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-15T10:56:36+02:00"><meta property="og:site_name" content="Dovixmans Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dovixman.io/images/avatar.png"><meta name=twitter:title content="Java 8: Streams"><meta name=twitter:description content="Junto con las expresiones lambda, los Streams son una de las funcionalidades más relevantes de Java 8, y trae consigo una nueva forma de trabajar. Mediante una capa de abstracción, los Streams nos permiten definir la lógica de negocio como un conjunto de funciones que se ejecutan de forma anidada.
De este modo, podemos trabajar con colecciones utilizando el paradigma de programación funcional, que nos permite definir las funciones a ejecutar de una forma mucho más clara y, en cierto modo, lo más parecida posible a como lo haríamos las personas en una situación real."><meta name=application-name content="Dovixman Blog"><meta name=apple-mobile-web-app-title content="Dovixman Blog"><meta name=theme-color content="#5bbad5"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/images/avatar.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://dovixman.io/streams-java-8/><link rel=prev href=https://dovixman.io/novedades-en-interfaces-java-8/><link rel=next href=https://dovixman.io/introduccion-a-protocol-buffers/><link rel=stylesheet href=/css/style.min.61c0835a1733ac3f92b41b61b403dca9b8d4a3a7e4021c89af2c45a731f6343a82bc7fb214f4926e2c4669c8d258218b7da5d0e86d081ec97f3c1d823d48df2e.css integrity="sha512-YcCDWhczrD+StBthtAPcqbjUo6fkAhyJryxFpzH2NDqCvH+yFPSSbixGacjSWCGLfaXQ6G0IHsl/PB2CPUjfLg=="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Java 8: Streams","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/dovixman.io\/streams-java-8\/"},"image":["https:\/\/dovixman.io\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"functional-programming, streams","wordcount":1354,"url":"https:\/\/dovixman.io\/streams-java-8\/","datePublished":"2019-04-03T00:00:00+00:00","dateModified":"2022-07-15T10:56:36+02:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":{"@type":"ImageObject","url":"https:\/\/dovixman.io\/images\/avatar.png","width":300,"height":300}},"author":{"@type":"Person","name":"David"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Dovixmans Blog"><span class=header-title-pre><i class='fas fa-terminal' aria-hidden=true></i></span><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/><i class='fas fa-comment-alt'></i> Posts </a><a class=menu-item href=/tags/><i class='fas fa-tags'></i> Tags </a><a class=menu-item href=/categories/><i class='fas fa-hashtag'></i> Categories </a><a class=menu-item href=/about/><i class='fas fa-address-card'></i> About </a><a class=menu-item href=/contact/><i class='fas fa-paper-plane'></i> contact </a><a class=menu-item href=https://github.com/dovixman title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Dovixmans Blog"><span class=header-title-pre><i class='fas fa-terminal' aria-hidden=true></i></span><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title><i class='fas fa-comment-alt'></i>Posts</a><a class=menu-item href=/tags/ title><i class='fas fa-tags'></i>Tags</a><a class=menu-item href=/categories/ title><i class='fas fa-hashtag'></i>Categories</a><a class=menu-item href=/about/ title><i class='fas fa-address-card'></i>About</a><a class=menu-item href=/contact/ title><i class='fas fa-paper-plane'></i>contact</a><a class=menu-item href=https://github.com/dovixman title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Java 8: Streams</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://dovixman.io title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>David</a></span>&nbsp;<span class=post-category>included in <a href=/categories/java/><i class="far fa-folder fa-fw" aria-hidden=true></i>java</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=03-04-2019>03-04-2019</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1354 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;7 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#elementos-de-un-stream>Elementos de un Stream</a><ul><li><a href=#fuentes-de-datos>Fuentes de datos</a></li><li><a href=#operaciones-intermedias>Operaciones intermedias</a><ul><li><a href=#operaciones-de-filtrado-y-mapeado>Operaciones de filtrado y mapeado</a></li><li><a href=#operaciones-de-restricción-de-tamaño>Operaciones de restricción de tamaño</a></li><li><a href=#operaciones-de-ordenación-y-desordenación>Operaciones de ordenación y desordenación</a></li><li><a href=#observando-los-elementos-de-un-_stream_>Observando los elementos de un <em>Stream</em></a></li></ul></li><li><a href=#operaciones-terminales>Operaciones terminales</a><ul><li><a href=#operaciones-condicionales>Operaciones condicionales</a></li><li><a href=#operaciones-que-devuelve-colecciones>Operaciones que devuelve colecciones</a></li><li><a href=#operaciones-que-devuelve-resultados-numéricos>Operaciones que devuelve resultados numéricos</a></li><li><a href=#operaciones-de-iteración>Operaciones de iteración</a></li><li><a href=#operaciones-de-reducción>Operaciones de reducción</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><p>Junto con las <a href=https://davidfuentes.blog/2019/02/03/java-8-expresiones-lambda/ target=_blank rel="noopener noreffer">expresiones lambda</a>, los <em>Streams</em> son una de las funcionalidades más relevantes de Java 8, y trae consigo una nueva forma de trabajar. Mediante una capa de abstracción, los <em>Streams</em> nos permiten definir la lógica de negocio como un conjunto de funciones que se ejecutan de forma anidada.</p><p>De este modo, podemos trabajar con colecciones utilizando el paradigma de programación funcional, que nos permite definir las funciones a ejecutar de una forma mucho más clara y, en cierto modo, lo más parecida posible a como lo haríamos las personas en una situación real.</p><p>El siguiente código muestra la lógica de un programa que filtra una lista de enteros, y devuelve el valor más pequeño de la lista, sin tener en cuenta los números pares:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=err>\</span><span class=o>[</span><span class=err>\</span><span class=o>]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>integers</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=n>3</span><span class=o>,</span> <span class=n>12</span><span class=o>,</span> <span class=n>21</span><span class=o>,</span> <span class=n>4</span><span class=o>,</span> <span class=n>2</span><span class=o>,</span> <span class=n>7</span><span class=o>,</span> <span class=n>5</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Integer</span> <span class=n>min</span> <span class=o>=</span> <span class=n>integers</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Integer</span> <span class=n>next</span> <span class=o>:</span> <span class=n>integers</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>next</span> <span class=o>%</span> <span class=n>2</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>next</span> <span class=o>&lt;</span> <span class=n>min</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>min</span> <span class=o>=</span> <span class=n>next</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>min</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Ahora veremos cómo se escribiría este mismo código utilizando <em>Streams</em>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=err>\</span><span class=o>[</span><span class=err>\</span><span class=o>]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>integers</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=n>3</span><span class=o>,</span> <span class=n>12</span><span class=o>,</span> <span class=n>21</span><span class=o>,</span> <span class=n>4</span><span class=o>,</span> <span class=n>2</span><span class=o>,</span> <span class=n>7</span><span class=o>,</span> <span class=n>5</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>min</span> <span class=o>=</span> <span class=n>integers</span><span class=o>.</span><span class=na>stream</span><span class=o>()</span>
</span></span><span class=line><span class=cl>            <span class=o>.</span><span class=na>filter</span><span class=o>(</span><span class=n>integer</span> <span class=o>-&gt;</span> <span class=n>integer</span> <span class=o>%</span> <span class=n>2</span> <span class=o>!=</span> <span class=n>0</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=o>.</span><span class=na>min</span><span class=o>(</span><span class=n>Integer</span><span class=o>::</span><span class=n>compareTo</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>min</span><span class=o>.</span><span class=na>get</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Como se puede observar, el código queda mucho más claro, ya que se organiza por funciones anidadas, que se ejecutan como un flujo de trabajo, generando nuevos _Stream_s a medida que avanzan en la cadena de ejecución.</p><h2 id=elementos-de-un-stream>Elementos de un Stream</h2><p>Como ya he comentado, los <em>Streams</em> son abstracciones que nos permiten definir operaciones agregadas sobre una fuente de datos utilizando funciones.</p><p>Los <em>Streams</em> se componen de tres partes:</p><ul><li><a href=#fuentes-de-datos rel>La fuente de datos</a></li><li><a href=#operaciones-intermedias rel>Las operaciones intermedias</a></li><li><a href=#operaciones-terminales rel>La operación terminal</a></li></ul><p>// Fuente de datos: 1
Stream.of(&ldquo;Some, Comma, Separated, Values&rdquo;)</p><p>// Operaciones intermedias: 0 -> N
.flatMap(string -> Stream.of(string.split(",")))
.map(string -> string.trim())</p><p>//Operación terminal: 1
.forEach(System.out::println);</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://lh5.googleusercontent.com/59vUmdkejTGzsy-3q7TQxOsL33z8vVkY1ET8u0IFNGJhaSyy78i2Th7jGW1_vc1c7k_Rr6g7ljPeO5DPzLtTJIPkIrbRb-LrZxzlLVnePevqjCsG-VzIuq4IvOQtQ9q3v1KVl7RVzZeLgNuEiA data-srcset="https://lh5.googleusercontent.com/59vUmdkejTGzsy-3q7TQxOsL33z8vVkY1ET8u0IFNGJhaSyy78i2Th7jGW1_vc1c7k_Rr6g7ljPeO5DPzLtTJIPkIrbRb-LrZxzlLVnePevqjCsG-VzIuq4IvOQtQ9q3v1KVl7RVzZeLgNuEiA, https://lh5.googleusercontent.com/59vUmdkejTGzsy-3q7TQxOsL33z8vVkY1ET8u0IFNGJhaSyy78i2Th7jGW1_vc1c7k_Rr6g7ljPeO5DPzLtTJIPkIrbRb-LrZxzlLVnePevqjCsG-VzIuq4IvOQtQ9q3v1KVl7RVzZeLgNuEiA 1.5x, https://lh5.googleusercontent.com/59vUmdkejTGzsy-3q7TQxOsL33z8vVkY1ET8u0IFNGJhaSyy78i2Th7jGW1_vc1c7k_Rr6g7ljPeO5DPzLtTJIPkIrbRb-LrZxzlLVnePevqjCsG-VzIuq4IvOQtQ9q3v1KVl7RVzZeLgNuEiA 2x" data-sizes=auto alt=https://lh5.googleusercontent.com/59vUmdkejTGzsy-3q7TQxOsL33z8vVkY1ET8u0IFNGJhaSyy78i2Th7jGW1_vc1c7k_Rr6g7ljPeO5DPzLtTJIPkIrbRb-LrZxzlLVnePevqjCsG-VzIuq4IvOQtQ9q3v1KVl7RVzZeLgNuEiA title="Stream
Source
Intermediate
Operation
Stream
Intermediate
Operation
Stream
Terminal
Result
Operation "></p><h3 id=fuentes-de-datos>Fuentes de datos</h3><p>La fuente de datos consiste en una colección de datos que pueden ser tratados como una cadena de valores.</p><p>Java ofrece distintas fuentes de <em>Streams</em> para ciertas clases:</p><table class="wp-block-table has-fixed-layout is-style-stripes"><tbody><tr><td><strong>Collection.stream()</strong></td><td><strong>JarFile.stream()</strong><br><strong>ZipFile.stream()</strong></td></tr><tr><td><strong>Collection.parallelStream()</strong></td><td><strong>BufferedReader.lines()</strong></td></tr><tr><td><strong>Arrays.stream()</strong></td><td><strong>Pattern.splitAsStream()</strong></td></tr><tr><td><strong>Files.find(Path, BiPredicate, FileVisitOption)</strong></td><td><strong>CharSequence.chars()</strong></td></tr><tr><td><strong>Files.list(Path)</strong></td><td><strong>CharSequence.codePoints()</strong></td></tr><tr><td><strong>Files.lines(Path)</strong></td><td><strong>BitSet.stream()</strong></td></tr><tr><td><strong>Files.walk(Path, FileVisitOption)</strong></td><td><strong>Random().Ints()</strong><br><strong>Random().Doubles()</strong><br><strong>Random().Longs()</strong></td></tr></tbody></table><p>También podemos utilizar <strong>métodos estáticos</strong> para crear <em>Streams</em> a partir de datos existentes:</p><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>Stream.concat(Stream, Stream)</strong></td><td>Concatena dos <em>Streams</em> existentes y devuelve el <em>Stream </em>resultante.</td></tr><tr><td><strong>Stream.of(T… values)</strong></td><td>Crea un <em>Stream</em> a partir de los valores de entrada.</td></tr><tr><td><strong>IntStream.range(int, int)</strong></td><td>Stream de enteros entre los dos valores dados como parámetros de entrada.</td></tr><tr><td><strong>Stream.generate(IntSuppliert)</strong></td><td>Stream generado por un <a href="https://davidfuentes.blog/2019/03/11/java-8-interfaces-funcionales/?id=181#interfaz-supplier">proveedor de resultados.</a><br>Ejemplo<em>:<br>Stream.generate(new Random()::nextInt)<br></em><br></td></tr><tr><td><strong>Stream.iterate(int, IntUnaryOperator)</strong></td><td>El método <em>Iterate</em>() utiliza un valor como semilla para generar el <em>Stream</em>.</td></tr></tbody></table><h3 id=operaciones-intermedias>Operaciones intermedias</h3><p>Las operaciones intermedias son operaciones que se aplican sobre la fuente de Stream definida. Estas operaciones no se ejecutan hasta que no se incluye una operación terminal en la secuencia de operaciones, que es la que causa que la cadena de operaciones se ejecute.</p><p>La mayoría de las operaciones intermedias reciben un parámetro (<a href=https://davidfuentes.blog/2019/03/11/java-8-interfaces-funcionales/ target=_blank rel="noopener noreffer">interfaz funcional</a>) que define su comportamiento, generalmente utilizando expresiones lambda. Como resultado, <strong>todas las operaciones intermedias devuelven un</strong> <em><strong>Stream</strong></em>, para que se puedan seguir concatenando operaciones.</p><p>El comportamiento definido para estas operaciones debe ser <strong>no interferentes</strong> sobre la ejecución del <em>Stream</em>, esto significa que la ejecución de la operación actual no debe afectar al resto. También deben ser <strong>stateless</strong>, es decir, debe tratar cada ejecución independientemente, sin relacionar las ejecuciones entre sí.</p><p>Estos dos patrones de comportamiento permite que un <em>Stream</em> pueda ser ejecutado de forma secuencial o paralela, sin necesidad de modificaciones, y definiendo su comportamiento en tiempo de ejecución.</p><p>Existen múltiples operaciones intermedias, a continuación veremos las más frecuentes.</p><h4 id=operaciones-de-filtrado-y-mapeado>Operaciones de filtrado y mapeado</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>distinct()</strong></td><td>Devuelve un <em>Stream </em>sin elementos duplicados.</td></tr><tr><td><strong>filter(Predicate)</strong></td><td>Devuelve un <em>Stream </em>únicamente con los elementos que devuelven <em>true</em> al <em>Predicate</em> definido.</td></tr><tr><td><strong>map(Function)</strong></td><td>Devuelve un <em>Stream </em>en el cual se le aplica la función definida a cada uno de los elementos del <em>Stream</em> original.</td></tr><tr><td><strong>mapToInt(Function)</strong><br></td><td>Devuelve un <em>Stream </em>de enteros aplicando la función definida a cada uno de los elementos del <em>Stream </em>original.</td></tr><tr><td><strong>mapToDouble(Function)</strong></td><td>Devuelve un <em>Stream </em>de <em>Double</em>s aplicando la función definida a cada uno de los elementos del <em>Stream </em>original.</td></tr><tr><td><strong>mapToLong(Function)</strong></td><td>Devuelve un <em>Stream </em>de <em>Long</em>s aplicando la función definida a cada uno de los elementos del <em>Stream </em>original.</td></tr></tbody></table><p>Además de las operaciones anteriores, existe un tipo de mapeado que devuelve múltiples resultados por cada valor procesado, este tipo de mapeado se denomina <strong><em>FlatMap</em>.</strong> En la siguiente imagen se puede distinguir fácilmente la diferencia entre los <em>Maps</em> y los <em>FlatMaps</em>.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://lh6.googleusercontent.com/5SQZyuBcZlUXKJC2ukGhlqpyCRQm_y4QNJ4MpnQ8Y6VrUE9oayRB2JQrHE-iwayF8wXgUtUvDf2m4J_UtwGn7epFh6fOIWR_8EZTQfpGcRO595eZrywzflt-VxfWr0ARdVvdERwL-Ws3pJEB_w data-srcset="https://lh6.googleusercontent.com/5SQZyuBcZlUXKJC2ukGhlqpyCRQm_y4QNJ4MpnQ8Y6VrUE9oayRB2JQrHE-iwayF8wXgUtUvDf2m4J_UtwGn7epFh6fOIWR_8EZTQfpGcRO595eZrywzflt-VxfWr0ARdVvdERwL-Ws3pJEB_w, https://lh6.googleusercontent.com/5SQZyuBcZlUXKJC2ukGhlqpyCRQm_y4QNJ4MpnQ8Y6VrUE9oayRB2JQrHE-iwayF8wXgUtUvDf2m4J_UtwGn7epFh6fOIWR_8EZTQfpGcRO595eZrywzflt-VxfWr0ARdVvdERwL-Ws3pJEB_w 1.5x, https://lh6.googleusercontent.com/5SQZyuBcZlUXKJC2ukGhlqpyCRQm_y4QNJ4MpnQ8Y6VrUE9oayRB2JQrHE-iwayF8wXgUtUvDf2m4J_UtwGn7epFh6fOIWR_8EZTQfpGcRO595eZrywzflt-VxfWr0ARdVvdERwL-Ws3pJEB_w 2x" data-sizes=auto alt=https://lh6.googleusercontent.com/5SQZyuBcZlUXKJC2ukGhlqpyCRQm_y4QNJ4MpnQ8Y6VrUE9oayRB2JQrHE-iwayF8wXgUtUvDf2m4J_UtwGn7epFh6fOIWR_8EZTQfpGcRO595eZrywzflt-VxfWr0ARdVvdERwL-Ws3pJEB_w title="FlatMap vs Map"></p><p>Un ejemplo práctico sería el siguiente, en el cual creamos un <em>Stream</em> a partir de un String, haciendo un split por la coma utilizando el método <em>FlatMap.</em></p><p>Este método nos genera un nuevo <em>Stream</em> a partir de cada uno de los resultados obtenidos que podemos seguir procesando.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=err>\</span><span class=o>[</span><span class=err>\</span><span class=o>]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Stream</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=s>&#34;Some, Comma, Separated, Values&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>flatMap</span><span class=o>(</span><span class=n>string</span> <span class=o>-&gt;</span> <span class=n>Stream</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>string</span><span class=o>.</span><span class=na>split</span><span class=o>(</span><span class=s>&#34;,&#34;</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>map</span><span class=o>(</span><span class=n>string</span> <span class=o>-&gt;</span> <span class=n>string</span><span class=o>.</span><span class=na>trim</span><span class=o>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>::</span><span class=n>println</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=operaciones-de-restricción-de-tamaño>Operaciones de restricción de tamaño</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>skip(Long n)</strong></td><td>Devuelve un <em>Stream</em> que ignora los primeros <strong><em>n</em></strong> elementos de la fuente de datos.</td></tr><tr><td><strong>limit(Long n)</strong></td><td>Devuelve un <em>Stream </em>que contiene los primeros <strong><em>n</em></strong> elementos de la fuente de datos.</td></tr></tbody></table><h4 id=operaciones-de-ordenación-y-desordenación>Operaciones de ordenación y desordenación</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>sorted()</strong></td><td>Devuelve un <em>Stream </em>ordenado por <a href="http://The natural order in java means an order in which primitive or Object should be orderly sorted in given array or collection.">ordenación natural</a>. La ordenación natural es el orden el que un objeto primitivo debe ordenarse en una colección.</td></tr><tr><td><strong>sorter(Comparator)</strong></td><td>Devuelve un <em>Stream </em>ordenado mediante el Comparator recibido como parámetro de entrada.</td></tr><tr><td><strong>Unordered()</strong></td><td>Devuelve un <em>Stream</em> desordenado. Puede mejorar la eficiencia de otras operaciones como <em>distinct()</em> o <em>groupingBy()</em>.</td></tr></tbody></table><h4 id=observando-los-elementos-de-un-_stream_>Observando los elementos de un <em>Stream</em></h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>peek(Consumer)</strong></td><td>Devuelve un <em>Stream </em>idéntico al <em>Stream</em> del data source, aplicando la acción del Consumer a cada uno de los elementos.<br><br>El método peek() no debería modificar los elementos del <em>Stream</em>.<br><br>Generalmente utilizado para debugear.</td></tr></tbody></table><h3 id=operaciones-terminales>Operaciones terminales</h3><p>Las operaciones terminales son las que terminan el pipeline de operaciones de un <em>Stream</em> y activan su ejecución. <strong>Un</strong> <em><strong>Stream</strong></em> <strong>solo se ejecutará cuando el pipeline incluya una de estas operaciones</strong>.</p><p>Al interpretar cómo se debe ejecutar la secuencia de operaciones del <em>Stream</em>, se aplican procesos de optimización para mergear o rechazar operaciones innecesarias, eliminar operaciones redundantes o ejecutar el stream en paralelo si fuera necesario.</p><p>Las operaciones terminales generan un valor o una acción como resultado, esto hace que este tipo de operaciones cierren la cadena de ejecución, ya que no devuelve un <em>Stream</em>.</p><p>Las operaciones terminales más comunes son las siguientes:</p><h4 id=operaciones-condicionales>Operaciones condicionales</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>Optional&lt;T> findFirst(Predicate)</strong></td><td>Devuelve el primer elemento del <em>Stream </em>que coincida con la condición del predicado, o un Optional vacío si no se cumple la condición.</td></tr><tr><td><strong>Optional&lt;T> findAny(Predicate)</strong></td><td>Devuelve un elemento aleatorio del <em>Stream </em>que coincida con la condición del predicado, o un Optional vacío si no se cumple la condición. Pensado para ofrecer un mayor rendimiento en operaciones paralelas.</td></tr><tr><td><strong>Boolean allMatch(Predicate)</strong></td><td>Devuelve <strong><em>true</em></strong> si la condición del predicado se cumple para <strong>todos</strong> los elementos del Stream, <strong><em>false</em></strong> para el resto de casos.</td></tr><tr><td><strong>Boolean anyMatch(Predicate)</strong></td><td>Devuelve <strong><em>true</em></strong> si la condición del predicado se cumple para <strong>cualquier</strong> elemento del Stream, <strong><em>false</em></strong> para el resto de casos.</td></tr><tr><td><strong>Boolean noneMatch(Predicate)</strong></td><td>Devuelve <strong><em>true</em></strong> si la condición del predicado <strong>no</strong> se cumple para <span style=background-color:#e8eaeb><b>ningún</b></span>elemento del Stream, <strong><em>false</em></strong> para el resto de casos.</td></tr></tbody></table><h4 id=operaciones-que-devuelve-colecciones>Operaciones que devuelve colecciones</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>collect(Collector)</strong></td><td>Devuelve el Stream en forma de colección del tipo que definamos. Podemos utilizar la clase de utilidad <a href=https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html>Collectors</a>, que nos ofrece varias implementaciones de la interfaz Collector.</td></tr><tr><td><br><strong>toArray()</strong></td><td>Devuelve los elementos del <em>Stream </em>a modo de Array.</td></tr></tbody></table><h4 id=operaciones-que-devuelve-resultados-numéricos>Operaciones que devuelve resultados numéricos</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>count()</strong></td><td>Devuelve un entero con el número de elementos que contiene el <em>Stream</em>.</td></tr><tr><td><strong>max(Comparator)</strong></td><td>Devuelve el valor más grande que contenga el <em>Stream</em>. Podemos definir el comparador que vamos a utilizar.</td></tr><tr><td><strong>min(Comparator)</strong></td><td>Devuelve el valor más pequeño que contenga el <em>Stream</em>. Podemos definir el comparador que vamos a utilizar.</td></tr><tr><td><strong>average()</strong></td><td>Devuelve la media aritmética del <em>Stream</em>.</td></tr><tr><td><strong>sum()</strong></td><td>Devuelve la suma de los elementos del <em>Stream</em>.</td></tr></tbody></table><h4 id=operaciones-de-iteración>Operaciones de iteración</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>forEach(Consumer)</strong></td><td>Ejecuta la acción definida en el consumidor a cada elemento del <em>Stream</em>.</td></tr><tr><td><strong>forEach(Consumer)</strong></td><td>Realiza la misma acción que <em>forEach()</em> pero asegurando que el orden de ejecución se mantiene cuando se usa con <em>Streams </em>ejecutados de forma paralela.</td></tr></tbody></table><h4 id=operaciones-de-reducción>Operaciones de reducción</h4><table class="wp-block-table is-style-stripes"><tbody><tr><td><strong>reduce(BinaryOperator accumulator)</strong></td><td>Realiza una reducción en el <em>Stream</em> utilizando un BinaryOperator.<br><br>El <em>BinaryOperator </em>recibe dos parámetros de entrada: el primero es el valor ya reducido, y el segundo es el valor a reducir.<br>Esta acción se aplica a cada uno de los elementos del <em>Stream</em>.<br></td></tr></tbody></table></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 15-07-2022</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://dovixman.io/streams-java-8/ data-title="Java 8: Streams" data-hashtags=functional-programming,streams><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://dovixman.io/streams-java-8/ data-hashtag=functional-programming><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://dovixman.io/streams-java-8/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://dovixman.io/streams-java-8/ data-title="Java 8: Streams" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://dovixman.io/streams-java-8/><i class="fab fa-reddit fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Instapaper" data-sharer=instapaper data-url=https://dovixman.io/streams-java-8/ data-title="Java 8: Streams" data-description><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/instapaper.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Pocket" data-sharer=pocket data-url=https://dovixman.io/streams-java-8/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Flipboard" data-sharer=flipboard data-url=https://dovixman.io/streams-java-8/ data-title="Java 8: Streams"><i class="fab fa-flipboard fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/functional-programming/>functional-programming</a>,&nbsp;<a href=/tags/streams/>streams</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/novedades-en-interfaces-java-8/ class=prev rel=prev title="Java 8: Novedades en interfaces"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Java 8: Novedades en interfaces</a>
<a href=/introduccion-a-protocol-buffers/ class=next rel=next title="Introducción a Protocol Buffers">Introducción a Protocol Buffers<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://dovixman.io target=_blank>David</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},data:{"id-1":"Dovixman Blog","id-2":"Dovixman Blog"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"},twemoji:!0,typeit:{cursorChar:"_",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:-1,speed:150}}</script><script type=text/javascript src=/js/theme.min.8f3907fa55b08d1250417a302a5836b4095aeba0e8de276226fbabed0058c004aec93be43d27a90cb1c7b80dffd331535aae064d507b1c9f140b42edb18d7d90.js integrity="sha512-jzkH+lWwjRJQQXowKlg2tAla66Do3idiJvur7QBYwASuyTvkPSepDLHHuA3/0zFTWq4GTVB7HJ8UC0LtsY19kA=="></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-236612299-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-236612299-1" async></script></body></html>